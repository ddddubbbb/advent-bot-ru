# ๐ Advent Bot RU

ะขะตะปะตะณัะฐะผโะฑะพั ะดะปั ัะตะผะตะน ั ะดะตััะผะธ: ะบะฐะถะดัะน ะดะตะฝั ะดะตะบะฐะฑัั ะฒัะดะฐัั ััะฟะปัะต ะทะฐะดะฐะฝะธั, ััะธัะฐะตั ะฟัะพะณัะตัั ะธ ะดะฐัั ะฟะฐัั ะฝะพะฒะพะณะพะดะฝะธั ยซะฟะปััะตะบยป ะทะฐ Telegram Stars.

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

advent-bot-ru/
โโ data/
โ โโ storage.json # ะดะฐะฝะฝัะต ะดะตัะตะน ะธ ะทะฐะดะฐะฝะธะน
โโ handlers/
โ โโ start.py # /start, ะณะปะฐะฒะฝะพะต ะผะตะฝั, ะพะฑัะฐัะฝะฐั ัะฒัะทั
โ โโ tasks.py # ะทะฐะดะฐะฝะธั ะฝะฐ ัะตะณะพะดะฝั, ะฒัะฟะพะปะฝะตะฝะพ, reroll
โ โโ children.py # ะดะพะฑะฐะฒะปะตะฝะธะต/ัะดะฐะปะตะฝะธะต ะดะตัะตะน
โ โโ stats.py # ััะฐัะธััะธะบะฐ ะฟะพ ัะตะฑัะฝะบั
โ โโ payments.py # ๐ ะะพะฒะพะณะพะดะฝะธะน ะผะฐะณะฐะทะธะฝ, Stars, ะธะฝะฒะพะนัั
โโ models/
โ โโ storage.py # ัะฐะฑะพัะฐ ั storage.json
โ โโ task_picker.py # ะฒัะฑะพั ะทะฐะดะฐะฝะธะน ะฟะพ ะฟัะฐะฒะธะปะฐะผ
โ โโ timezones.py # ัะฐัะพะฒัะต ะฟะพััะฐ
โโ utils/
โ โโ calendar_logic.py # ะฟัะพะฒะตัะบะฐ ยซะดะตะบะฐะฑััยป, ัะฐะฑะพัะฐ ั ะดะฐัะฐะผะธ
โโ tasks_ru.json # ะฑะฐะทะฐ ัะตะบััะพะฒ ะทะฐะดะฐะฝะธะน
โโ tests/
โ โโ test_storage.py
โ โโ test_tasks_handlers.py
โ โโ test_payments_reroll.py
โ โโ test_payments_calendar.py
โ โโ test_stats.py
โ โโ test_children_delete.py
โ โโ test_task_picker_used_tasks.py
โ โโ test_main_flow_two_children.py
โ โโ test_shop_menu_texts.py
โโ main.py # ัะพัะบะฐ ะฒัะพะดะฐ ะฑะพัะฐ (Bot + Dispatcher + run_polling)
โโ requirements.txt
โโ README.md


## โ๏ธ ะงัะพ ัะผะตะตั ะฑะพั

- ๐จโ๐ฉโ๐งโ๐ฆ ะะตัะบะพะปัะบะพ ะดะตัะตะน ะฝะฐ ะพะดะฝะพะณะพ ัะพะดะธัะตะปั.
- ๐ ะฃัะตั ัะฐัะพะฒะพะณะพ ะฟะพััะฐ ัะตะฑัะฝะบะฐ.
- ๐ ยซะะฐะดะฐะฝะธะต ะฝะฐ ัะตะณะพะดะฝัยป โ ะฒัะดะฐัะฐ ะทะฐะดะฐะฝะธะน ัะพะปัะบะพ ะฒ ะดะตะบะฐะฑัะต.
- โ ะัะผะตัะบะฐ ะฒัะฟะพะปะฝะตะฝะธั ั ััััะพะผ ะบะพะฝะบัะตัะฝะพะณะพ ัะตะฑัะฝะบะฐ ะธ ะดะฝั.
- ๐ ะกัะฐัะธััะธะบะฐ ะฟะพ ะฒัะฑัะฐะฝะฝะพะผั ัะตะฑัะฝะบั ะทะฐ ะผะตััั.
- ๐ ะะพะฒะพะณะพะดะฝะธะน ะผะฐะณะฐะทะธะฝ:
  - ๐ Reroll ะทะฐะดะฐะฝะธั ะทะฐ 50 Stars;
  - ๐ฅ ะะพะปะฝัะน ะบะฐะปะตะฝะดะฐัั ะดะตะบะฐะฑัั ะทะฐ 100 Stars;
  - ๐ ะะพะฝะฐัั 200 / 500 / 1000 Stars.
- โ ะะฑัะฐัะฝะฐั ัะฒัะทั โ ัะพะพะฑัะตะฝะธั ัะปะตัะฐัั ะฒ ะฟัะธะฒะฐัะฝัะน feedbackโัะฐั.

## ๐ ะะฐะบ ะทะฐะฟัััะธัั ะปะพะบะฐะปัะฝะพ

1. ะะปะพะฝะธััะน ัะตะฟะพะทะธัะพัะธะน ะธ ะทะฐะนะดะธ ะฒ ะฟะฐะฟะบั:

  git clone <url>
  cd advent-bot-ru


2. ะกะพะทะดะฐะน ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต ะธ ะฐะบัะธะฒะธััะน ะตะณะพ:

  python -m venv .venv

  Windows (PowerShell)
    ..venv\Scripts\Activate.ps1

  macOS / Linux
    source .venv/bin/activate


3. ะฃััะฐะฝะพะฒะธ ะทะฐะฒะธัะธะผะพััะธ:

  pip install -r requirements.txt


4. ะกะพะทะดะฐะน `.env` ััะดะพะผ ั `main.py`:

  BOT_TOKEN=ัะฒะพะน_ัะพะบะตะฝ_ะฑะพัะฐ
  ENV=dev


5. ะะฐะฟัััะธ ะฑะพัะฐ:

  python main.py


ะะพั ะฟะพะดะบะปััะธััั ะบ Telegram, ะธ ะผะพะถะฝะพ ัะตััะธัะพะฒะฐัั ะฒัะต ััะตะฝะฐัะธะธ ะฟััะผะพ ะธะท ัะฐัะฐ.

## ๐งช ะะฐะฟััะบ ัะตััะพะฒ

ะัะต ะฐะฒัะพัะตััั ะฝะฐัะพะดัััั ะฒ ะฟะฐะฟะบะต `tests/`.

ะะฐะฟััะบ:
  pytest -q

ะขะตััั ะฟัะพะฒะตัััั:

- ัะฐะฑะพัั `Storage` (ะดะตัะธ, ะทะฐะดะฐะฝะธั, ััะฐัััั);
- ะบะพััะตะบัะฝะพััั rerollโะฐ ะธ ะบะฐะปะตะฝะดะฐัั;
- ััะฐัะธััะธะบั ะฟะพ ะดะตััะผ;
- ะปะพะณะธะบั ะฒัะฑะพัะฐ ะทะฐะดะฐะฝะธะน (ะฝะต ะฟะพะฒัะพััะตั ัะถะต ะฒัะดะฐะฝะฝัะต);
- ะฟะพะฒะตะดะตะฝะธะต ะะพะฒะพะณะพะดะฝะตะณะพ ะผะฐะณะฐะทะธะฝะฐ ะธ ะบะปะฐะฒะธะฐััั.